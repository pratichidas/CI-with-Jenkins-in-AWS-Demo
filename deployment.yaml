---
 apiVersion: apps/v1
 kind: Deployment
 metadata:
  name: demoapp
  labels:
   app: demoapp
 spec:
  replicas: 1 
  selector:
   matchLabels:
    app: demoapp
   template:
    metadata: 
     labels:
      app: demoapp
    spec:
     containers:
     - name: demoapp
       image: pratichidas/k8sdemo:tagversion
       ports:
       - containerPort: 8080

---
 apiVersion: v1
 kind: Service
 metadata:
  name: demoapp
 spec:
  type: LoadBalancer
  selector:
   app: demoapp
  ports:
   - protocol: TCP
     port: 80
     targetPort: 8080
